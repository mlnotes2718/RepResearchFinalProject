---
title: "AppendixA"
date: "2024-02-21"
---

### Read File
```{r}
stormData <- read.csv("StormData.csv.bz2")
```

### Reduce data size
```{r}
reducedStormData <- filter(stormData, FATALITIES != 0 | INJURIES !=0 |PROPDMG !=0 | CROPDMG != 0)
reducedStormData <- select(reducedStormData, STATE, BGN_DATE, EVTYPE, FATALITIES,INJURIES,PROPDMG,PROPDMGEXP,CROPDMG,CROPDMGEXP,REMARKS)
reducedStormData$EVTYPE <- trimws(reducedStormData$EVTYPE, which = c("both"), whitespace = "[ \t\r\n]")
reducedStormData$EVTYPE <- tolower(reducedStormData$EVTYPE)
reducedStormData$EVTYPE <- toupper(reducedStormData$EVTYPE)
reducedStormData$EVTYPE <- str_squish(reducedStormData$EVTYPE)
```

```{r}
evtypeLst <- sort(unique(reducedStormData$EVTYPE))
evtypeLst
```

```{r}
reducedStormData$EVTYPE[grepl("^TSTM*", reducedStormData$EVTYPE)] <- "THUNDERSTORM WIND"
reducedStormData$EVTYPE[grepl("^THU* | *THU*", reducedStormData$EVTYPE)] <- "THUNDERSTORM WIND"

reducedStormData$EVTYPE[grepl("^TUNDERSTORM*", reducedStormData$EVTYPE)] <- "THUNDERSTORM WIND"

reducedStormData$EVTYPE[grepl("^TORNADO*", reducedStormData$EVTYPE)] <- "TORNADO"
reducedStormData$EVTYPE[grepl("^TORNDAO*", reducedStormData$EVTYPE)] <- "TORNADO"

reducedStormData$EVTYPE[grepl("^HAIL*", reducedStormData$EVTYPE)] <- "HAIL"
reducedStormData$EVTYPE[grepl("^FLASH FLOOD*", reducedStormData$EVTYPE)] <- "FLASH FLOOD"
reducedStormData$EVTYPE[grepl("^FLOOD*", reducedStormData$EVTYPE)] <- "FLOOD"
reducedStormData$EVTYPE[grepl("^COASTAL*", reducedStormData$EVTYPE)] <- "COASTAL FLOOD"
reducedStormData$EVTYPE[grepl("^HURRICANE*", reducedStormData$EVTYPE)] <- "HURRICANE (TYPHOON)"

reducedStormData$EVTYPE[grepl("^EXTREME HEAT*", reducedStormData$EVTYPE)] <- "EXCESSIVE HEAT"

reducedStormData$EVTYPE[grepl("^EXTREME*", reducedStormData$EVTYPE)] <- "EXTREME COLD/WIND CHILL"
reducedStormData$EVTYPE[grepl("^EXTENDED*", reducedStormData$EVTYPE)] <- "EXTREME COLD/WIND CHILL"

```

```{r}
evtypeLst <- sort(unique(reducedStormData$EVTYPE))
evtypeLst
```


```{r}
filter(reducedStormData, EVTYPE=="?")
```

No data, no remarks. Hence row to be removed.

```{r}
af <- filter(reducedStormData, EVTYPE=="AGRICULTURAL FREEZE")
af
```
```{r}
af[,"REMARKS"]
```

```{r}
ac <- filter(reducedStormData, EVTYPE=="APACHE COUNTY")
ac

```
```{r}
ac[,"REMARKS"]
```

To classified as "THUNDERSTORM WIND"


